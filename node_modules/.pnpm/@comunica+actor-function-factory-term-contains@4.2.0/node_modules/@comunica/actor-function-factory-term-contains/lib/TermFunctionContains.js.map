{"version":3,"file":"TermFunctionContains.js","sourceRoot":"","sources":["TermFunctionContains.ts"],"names":[],"mappings":";;;AAAA,yEAAkE;AAKlE,qFAO8C;AAE9C;;GAEG;AACH,MAAa,oBAAqB,SAAQ,uCAAgB;IACxD;QACE,KAAK,CAAC;YACJ,KAAK,EAAE,CAAC;YACR,QAAQ,EAAE,2CAAc,CAAC,QAAQ;YACjC,SAAS,EAAE,IAAA,oCAAO,EAAC,2CAAc,CAAC,QAAQ,CAAC;iBACxC,aAAa,CACZ,CAAE,sCAAS,CAAC,eAAe,EAAE,oCAAO,CAAC,UAAU,CAAE,EACjD,GAAG,EAAE,CAAC,CAAC,IAAY,EAAE,IAAY,EAAE,EAAE,CAAC,IAAA,iCAAI,EAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAChE;iBACA,QAAQ,CACP,CAAE,oCAAO,CAAC,eAAe,EAAE,oCAAO,CAAC,eAAe,CAAE,EACpD,GAAG,EAAE,CAAC,CAAC,IAAuB,EAAE,IAAuB,EAAE,EAAE;gBACzD,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,EAAE,CAAC;oBACpC,MAAM,IAAI,0DAA6B,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACtD,CAAC;gBACD,OAAO,IAAA,iCAAI,EAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACzD,CAAC,CACF;iBACA,OAAO,EAAE;SACb,CAAC,CAAC;IACL,CAAC;CACF;AAtBD,oDAsBC","sourcesContent":["import { TermFunctionBase } from '@comunica/bus-function-factory';\nimport type {\n\n  LangStringLiteral,\n} from '@comunica/utils-expression-evaluator';\nimport {\n  bool,\n  declare,\n  IncompatibleLanguageOperation,\n  SparqlOperator,\n  TypeAlias,\n  TypeURL,\n} from '@comunica/utils-expression-evaluator';\n\n/**\n * https://www.w3.org/TR/sparql11-query/#func-contains\n */\nexport class TermFunctionContains extends TermFunctionBase {\n  public constructor() {\n    super({\n      arity: 2,\n      operator: SparqlOperator.CONTAINS,\n      overloads: declare(SparqlOperator.CONTAINS)\n        .onBinaryTyped(\n          [ TypeAlias.SPARQL_STRINGLY, TypeURL.XSD_STRING ],\n          () => (arg1: string, arg2: string) => bool(arg1.includes(arg2)),\n        )\n        .onBinary(\n          [ TypeURL.RDF_LANG_STRING, TypeURL.RDF_LANG_STRING ],\n          () => (arg1: LangStringLiteral, arg2: LangStringLiteral) => {\n            if (arg1.language !== arg2.language) {\n              throw new IncompatibleLanguageOperation(arg1, arg2);\n            }\n            return bool(arg1.typedValue.includes(arg2.typedValue));\n          },\n        )\n        .collect(),\n    });\n  }\n}\n"]}