import toStream from 'rdf-dataset-ext/toStream.js';
import fromStream from 'rdf-dataset-ext/fromStream.js';
import toCanonical from 'rdf-dataset-ext/toCanonical.js';
import addAll from 'rdf-dataset-ext/addAll.js';
import DatasetFactory from './DatasetFactory.js';
import { serialize } from './serialize.js';
export default (createConstructor) => class extends DatasetFactory(createConstructor) {
    init() {
        super.init();
        this.dataset.toCanonical = toCanonical;
        this.dataset.toStream = toStream;
        this.dataset.fromStream = (stream) => {
            return fromStream(this.dataset(), stream);
        };
        this.dataset.serialize = serialize.bind(null, this);
        this.dataset.import = async (d, stream) => {
            return addAll(d, await this.dataset.fromStream(stream));
        };
    }
};
